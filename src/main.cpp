/* major librarys */
#include <Arduino.h>
#include <Wire.h>
#include <WiFi.h>
#include <freertos/task.h>
#include <freertos/timers.h>
#include <stdint.h>
#include <SparkFun_Qwiic_OLED.h>
#define DEBUG_SERIAL Serial
#define BAUD_RATE 115200
// Functions
void loadingScreen(uint8_t xcenter, uint8_t ycenter);
void drawBitmap();
// Global Variables
// Custom I2C pins
#define SDA_PIN 21  // Change to your desired SDA pin
#define SCL_PIN 22  // Change to your desired SCL pin

QwiicMicroOLED oled;
const char * deviceName = "Horn3t";
int ycenter_text;
int ycenter;
int xcenter;

const uint8_t smileyFace[] PROGMEM = {
  0b00111100,
  0b01000010,
  0b10100101,
  0b10000001,
  0b10100101,
  0b10011001,
  0b01000010,
  0b00111100
};


const uint8_t hornetLogo[] PROGMEM = {
0x00,0x00,0xF0,0x01,0x00,0x00,0xEC,0x01,0x00,0x08,0xEA,0x01,0x00,0x08,0xFD,0x01,
0x00,0x88,0xFF,0x00,0x00,0x44,0x7E,0x00,0x08,0xC4,0x73,0x00,0x10,0xE4,0x39,0x04,
0x41,0xA6,0x1C,0x01,0x81,0x76,0xC7,0x00,0x81,0xB5,0x2F,0x00,0x02,0xFD,0x0C,0x00,
0x62,0x3F,0xFE,0x03,0xF4,0xFE,0xFE,0x0F,0xD8,0xFD,0xFF,0x1F,0x84,0xFC,0x4B,0x3E,
0xA0,0xF0,0x4B,0xFA,0x84,0xFC,0x6B,0x3E,0xD8,0xFD,0x7D,0x1F,0xC4,0xFE,0xFE,0x0F,
0x02,0x3F,0xFE,0x03,0x02,0xD5,0x0C,0x00,0x81,0xB5,0x4F,0x00,0x61,0x76,0xE6,0x00,
0x61,0xA6,0x1C,0x01,0x10,0xA4,0x39,0x04,0x08,0xC4,0x63,0x00,0x00,0x44,0xFF,0x00,
0x00,0x88,0xF7,0x00,0x00,0x08,0xFD,0x01,0x00,0x08,0xEA,0x01,0x00,0x00,0xEC,0x01,
};

void setup()
{
    delay(500);   //Give display time to power on
    Serial.begin(115200);

    Serial.println("\n\r-----------------------------------");

    Serial.print("Running Test #5 on: ");
    Serial.println(String(deviceName));

    // Initialize I2C with custom pins
    Wire.begin(SDA_PIN, SCL_PIN);
    
    if(!oled.begin()){

        Serial.println("- Device Begin Failed");
        while(1);
    }

    ycenter_text = (oled.getHeight() - oled.getFont()->height)/2;
    ycenter = oled.getHeight()/2;
    xcenter = oled.getWidth()/4;
    loadingScreen(xcenter, ycenter_text);
   
}

void loadingScreen(uint8_t xcenter, uint8_t ycenter)
{
    oled.rectangleFill(0, 0, oled.getWidth(), oled.getHeight());
    oled.display();
    oled.erase();
    oled.text(xcenter, ycenter_text, deviceName);
    oled.display();
}

void drawBitmap()
{
    uint8_t hornetLogoRAM[sizeof(hornetLogo)];
    memcpy_P(hornetLogoRAM, hornetLogo, sizeof(hornetLogo));
    oled.bitmap(0, 0, 32, 32, hornetLogoRAM, 32, 32);
    oled.display();
}

void loop()
{

}

